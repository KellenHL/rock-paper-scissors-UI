<!DOCTYPE html>
<html>
<head>
	<title>Rock, Paper, Scissors</title>
</head>

<body>
	<h1>Rock, Paper, Scissors: Who will win?</h1>

	<button id="rock-btn">Rock</button>
	<button id="pape-btn">Paper</button>
	<button id="scis-btn">Scissors</button>

	<div id="results">
	</div>

	<p id="player-score"></p>

	<p id="computer-score"></p>

	<p id="tie-games"></p>

	<p id="winner"></p>

</body>
</html>

<script>
	// This function generates a random number between 0 and 3 and
	// assigns the randomly generated number a string result of 
	// either rock, paper, or scissors.

	function computerPlay() {
		let computerNumber = Math.floor((Math.random() * 3));
		
		if (computerNumber === 0) {
			return 'rock';
		} else if (computerNumber === 1) {
			return 'paper';
		} else if (computerNumber === 2) {
			return 'scissors';
		} else {
			return 'rock';
		}
	}

	let computerSelection = computerPlay();

	// This function plays a round of rock paper scissors against 
	// the computer, using input from the user and a randomly generated 
	// result on the part of the computer. 

	function playRound(playerSelection, computerSelection) {
		if (playerSelection === computerSelection ) {
			tieGames++;
			return 'You tied!';
		} else if (playerSelection === 'rock' && computerSelection === 'paper') {
			computerScore++;
			return 'You lose! Paper beats rock.';
		} else if (playerSelection === 'rock' && computerSelection === 'scissors') {
			playerScore++;
			return 'You win! Rock pulverizes scissors.';
		} else if (playerSelection === 'paper' && computerSelection === 'rock') {
			playerScore++;
			return 'You win! Paper smothers rock.';
		} else if (playerSelection === 'paper' && computerSelection === 'scissors') {
			computerScore++;
			return 'You lose! Scissors slice paper.';
		} else if (playerSelection === 'scissors' && computerSelection === 'rock') {
			computerScore++;
			return 'You lose! Rock smashes scissors.';
		} else if (playerSelection === 'scissors' && computerSelection === 'paper') {
			playerScore++;
			return 'You win! Scissors makes short work of paper.' ;
		} else {
			return 'Error. What did you do wrong?';
		}
	}

	// DOM manipulation

	let playerScore = 0;
	let computerScore = 0;
	let tieGames = 0;

	function reportWinner() {
		if (playerScore === 3 && playerScore > computerScore) {
			document.getElementById("winner").innerHTML = "Player Wins!";
		} else if (computerScore === 3 && computerScore > playerScore) {
			document.getElementById("winner").innerHTML = "Computer Wins!";
		} else if (computerScore === playerScore && computerScore > 1 && tieGames === 1) {
			document.getElementById("winner").innerHTML = "Tie Game.";
		}
	}

	function updateScore() {

	document.getElementById("player-score").innerHTML = `WINS: ${playerScore}`;
	document.getElementById("computer-score").innerHTML = `LOSSES: ${computerScore}`;
	document.getElementById("tie-games").innerHTML = `TIED GAME(S): ${tieGames}`;
	}

	let rockbtn = document.querySelector('#rock-btn');
	let papebtn = document.querySelector('#pape-btn');
	let scisbtn = document.querySelector('#scis-btn');

	rockbtn.addEventListener('click', () => {
		playerSelection = 'rock';
		computerSelection = computerPlay();
		document.getElementById("results").innerHTML = playRound(playerSelection, computerSelection);
		updateScore();
		reportWinner();
	})

	papebtn.addEventListener('click', () => {
		playerSelection = 'paper';
		computerSelection = computerPlay();
		document.getElementById("results").innerHTML = playRound(playerSelection, computerSelection);
		updateScore();
		reportWinner();
	})

	scisbtn.addEventListener('click', () => {
		playerSelection = 'scissors';
		computerSelection = computerPlay();
		document.getElementById("results").innerHTML = playRound(playerSelection, computerSelection);
		updateScore();
		reportWinner();
	})

	



</script>